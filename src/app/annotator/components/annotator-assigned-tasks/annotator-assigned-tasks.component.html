<mat-toolbar color="primary">
  <span>Tasks</span>
</mat-toolbar>


<mat-tab-group class="mb-5">
  <mat-tab label="Assigned Tasks">
    <table mat-table #assignedTasksSort="matSort"
           [dataSource]="assignedTasksList" matSort class="mat-elevation-z2 table-styling">

      <ng-container matColumnDef="view">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let task">
          <!-- TODO: router link to reach the task -->
          <a mat-mini-fab aria-label="View task">
            <mat-icon>pageview</mat-icon>
          </a>
        </td>
      </ng-container>

      <ng-container matColumnDef="file">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>File</th>
        <td mat-cell *matCellDef="let task"> {{task.filename}} </td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Task Type</th>
        <td mat-cell *matCellDef="let task"> {{task.task_type}} </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Task Status</th>
        <td mat-cell *matCellDef="let task"> {{task.step}} </td>
      </ng-container>

      <ng-container matColumnDef="deadline">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Deadline</th>
        <td mat-cell *matCellDef="let task"> {{task.deadline ? task.deadline : 'None'}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="assignedColumns"></tr>
      <tr mat-row *matRowDef="let task; columns: assignedColumns;"
      [routerLink]="['/annotator', 'task', task.id]"
      ></tr>
    </table>
    <div class="text-center py-3 mx-auto mat-elevation-z2 noTasks mb-2" *ngIf="0" style="width:90%; background: white;">
        <p>No <i>pending</i> or <i>in progress</i> tasks</p>
      </div>
  </mat-tab>
  <mat-tab label="Finished Tasks">

    <table mat-table #finishedTasksSort="matSort"
           [dataSource]="finishedTasksList" matSort class="mat-elevation-z2 table-styling">

      <ng-container matColumnDef="view">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let task">
          <!-- TODO: router link to reach the task -->
          <a mat-mini-fab aria-label="View task">
            <mat-icon>pageview</mat-icon>
          </a>
        </td>
      </ng-container>

      <ng-container matColumnDef="file">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>File</th>
        <td mat-cell *matCellDef="let task"> {{task.filename}} </td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Task Type</th>
        <td mat-cell *matCellDef="let task"> {{task.task_type}} </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Task Status</th>
        <td mat-cell *matCellDef="let task"> {{task.status}} </td>
      </ng-container>

      <ng-container matColumnDef="finish-date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Finish Date</th>
        <td mat-cell *matCellDef="let task"> {{task.finish_date? task.finish_date : 'none'}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="finishedColumns"></tr>
      <tr mat-row *matRowDef="let task; columns: finishedColumns;"></tr>
    </table>
    <div class="text-center py-3 mx-auto mat-elevation-z2 mb-2 noTasks" *ngIf="1" style="width:90%; background: white;">
      <p>No finished tasks</p>
    </div>
  </mat-tab>
</mat-tab-group>
